replicaCount: 1

podSecurityContext:
  runAsNonRoot: true
  runAsUser: 1000
  fsGroup: 1000

securityContext:
  capabilities:
    drop:
    - ALL
  readOnlyRootFilesystem: false
  allowPrivilegeEscalation: false

adaptiveTakeHome:
  image:
    repository: stowns/adaptive-takehome
    pullPolicy: IfNotPresent
    tag: "latest"
  nameOverride: ""
  fullnameOverride: ""
  podAnnotations: {}
  service:
    type: ClusterIP
    port: 80
    targetPort: 3000
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 100m
      memory: 128Mi
  livenessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 10
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3
  readinessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 3
    failureThreshold: 3
  selectorLabels:
    app: adaptive-takehome

ollama:
  enabled: true
  image:
    repository: ollama/ollama
    pullPolicy: IfNotPresent
    tag: "latest"
  service:
    type: ClusterIP
    port: 11434
    targetPort: 11434
  resources:
    limits:
      cpu: 2000m
      memory: 12Gi
    requests:
      cpu: 2000m
      memory: 12Gi
  persistence:
    enabled: true
    hostPath: /ollama
    mountPath: /root/.ollama
  securityContext:
    runAsNonRoot: false
    runAsUser: 0
  model: llama3.1:latest
  url: ollama.default.svc.cluster.local:11434
  selectorLabels:
    app: ollama

